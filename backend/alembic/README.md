# Alembic Migrations

## Database migrations

This directory contains Alembic migration scripts for database schema changes.

### Commands

1. Create a new migration:
   ```bash
   alembic revision --autogenerate -m "description"
   ```

2. Run all pending migrations:
   ```bash
   alembic upgrade head
   ```

3. Rollback one version:
   ```bash
   alembic downgrade -1
   ```

4. Rollback to a specific version:
   ```bash
   alembic downgrade <revision>
   ```

5. Get current database version:
   ```bash
   alembic current
   ```

6. Show migration history:
   ```bash
   alembic history --verbose
   ```

7. Rololl back to the initial state
   ```bash
   alembic downgrade base
   ```

## Best Practices

- Always review autogenerated migrations before committing them.
- Ensure that all models are imported in env.py for proper autogeneration.
- Add explicit indexes and constraints when needed.
- Provide meaningful migration descriptions.
- Test migrations on a development database before applying to production.
- Always back up production data before applying migrations.